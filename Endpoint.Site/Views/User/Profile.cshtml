@* DevelopeR: Alimohammad Eghbaldar http://eghbaldar.ir *@
@{
    Layout = "~/Views/Shared/_LayoutInnerPages.cshtml";
}
@section Styles{
    @*Only for this page*@

    @*datapicker*@
    <link href="~/lib/datapicker/datepicker.min.css" rel="stylesheet" />
    <style>
        fieldset {
            border: 1px dashed #E0E0E0 !important;
            padding: 0 1.4em 1.4em 1.4em !important;
            -webkit-box-shadow: 0px 0px 0px 0px #000;
            box-shadow: 0px 0px 0px 0px #000;
            margin-top: 15px !important;
            -moz-border-radius: 5px;
            -webkit-border-radius: 5px;
            border-radius: 5px;
        }

        legend {
            font-size: 1.2em !important;
            font-weight: bold !important;
            text-align: left !important;
            width: auto;
            padding: 0 10px;
            border-bottom: none;
            margin-top: -15px;
            background-color: white;
            color: #E0E0E0;
        }
    </style>
>
}
@await Component.InvokeAsync("UserProfileNavigation")

<div id="TabUserEducation" class="TabcontentClass active">
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">Eduction</h4>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form asp-action="Create" id="frmAddUser" method="post">

                    <div class="form_field_outer">
                        <div class="row form_field_outer_row">

                            <fieldset>
                                <legend>Educational Case [1]</legend>

                                <div class="input-group mb-3">
                                    <span class="input-group-text">Name</span>
                                    <input type="text"
                                           class="form-control"
                                           id="txtBirthcity"
                                           placeholder="School, Instituion, College, University Nname">
                                </div>

                                <div class="input-group mb-3">
                                    <span class="input-group-text">Field of Study</span>
                                    <input type="text"
                                           class="form-control"
                                           id="txtBirthcity"
                                           placeholder="Directing, Software engineering, ...">
                                </div>

                                <div style="display:flex;">
                                    <div>
                                        <label class="input-group-text" style="border-radius:5px 0px 0px 5px;"
                                               for="inputGroupSelect01">From</label>
                                    </div>
                                    <div>
                                        <input readonly
                                               placeholder="Starting date of Eduction"
                                               style="border-radius:0px;border-left:0;" width="300"
                                               id="datepickerFrom">
                                    </div>
                                </div>

                                <div style="display:flex;">
                                    <div>
                                        <label class="input-group-text" style="border-radius:5px 0px 0px 5px;"
                                               for="inputGroupSelect01">To</label>
                                    </div>
                                    <div>
                                        <input readonly
                                               placeholder="Ending date of Eduction"
                                               style="border-radius:0px;border-left:0;" width="300"
                                               id="datepickerTo">
                                    </div>
                                </div>

                                <div class="form-group col-md-2 add_del_btn_outer">
                                    <button class="btn_round remove_node_btn_frm_field" disabled>
                                        <i class="fas fa-trash-alt"></i>
                                    </button>
                                </div>
                            </fieldset>

                        </div>
                    </div>

                    <button type="button" class="btn btn-outline-lite py-0 add_new_frm_field_btn">
                        <i class="fas fa-plus add_icon"></i> Add New field row
                    </button>

                    <button type="button" onclick="UpdateInfoAccount()" id="btnUpdateAccount" class="btn cur-p btn-primary">
                        Update
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="TabUserFavoriteMovie" class="TabcontentClass">
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">Favorite Movies</h4>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form asp-action="Create" id="frmAddUser" method="post">
                    <button type="button" onclick="UpdateInfoAccount()" id="btnUpdateAccount" class="btn cur-p btn-primary">
                        Update
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="TabUserCompany" class="TabcontentClass">
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">Company</h4>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form asp-action="Create" id="frmAddUser" method="post">
                    <button type="button" onclick="UpdateInfoAccount()" id="btnUpdateAccount" class="btn cur-p btn-primary">
                        Update
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="TabUserNews" class="TabcontentClass">
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">News</h4>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form asp-action="Create" id="frmAddUser" method="post">
                    <button type="button" onclick="UpdateInfoAccount()" id="btnUpdateAccount" class="btn cur-p btn-primary">
                        Update
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="TabUserPhotos" class="TabcontentClass">
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">Photos</h4>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form asp-action="Create" id="frmAddUser" method="post">
                    <button type="button" onclick="UpdateInfoAccount()" id="btnUpdateAccount" class="btn cur-p btn-primary">
                        Update
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="TabUserAttachments" class="TabcontentClass">
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">Attachments</h4>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form asp-action="Create" id="frmAddUser" method="post">
                    <button type="button" onclick="UpdateInfoAccount()" id="btnUpdateAccount" class="btn cur-p btn-primary">
                        Update
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="TabUserLinks" class="TabcontentClass">
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">Links</h4>
        </div>
        <div class="card-body">
            <div class="basic-form">
                <form asp-action="Create" id="frmAddUser" method="post">
                    <button type="button" onclick="UpdateInfoAccount()" id="btnUpdateAccount" class="btn cur-p btn-primary">
                        Update
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    @* Tabs *@
    <script src="~/sitetemplate/innerpages/plugins/tabNavigation/tab.js"></script>
    @*Datapicker*@
    <script src="~/lib/datapicker/datapicker.js"></script>
    <script>
        $('#datepickerFrom').datepicker({
            uiLibrary: 'bootstrap5'
        });
        $('#datepickerTo').datepicker({
            uiLibrary: 'bootstrap5'
        });
    </script>
    @*Add Runtime Controls*@
    <script type="text/javascript">


        $(document).ready(function () {
            $("body").on("click", ".add_new_frm_field_btn", function () {
                console.log("clicked");
                var index = $(".form_field_outer").find(".form_field_outer_row").length + 1;

                $(".form_field_outer").append(`

                            <div class="row form_field_outer_row">

                <fieldset>
                    <legend>Personalia:</legend>

                    <div class="input-group mb-3">
                        <span class="input-group-text">Name</span>
                        <input type="text"
                                class="form-control"
                                id="txtBirthcity"
                                placeholder="School, Instituion, College, University Nname">
                    </div>

                    <div class="input-group mb-3">
                        <span class="input-group-text">Field of Study</span>
                        <input type="text"
                                class="form-control"
                                id="txtBirthcity"
                                placeholder="Directing, Software engineering, ...">
                    </div>

                                                        <div style="display:flex;">
                        <div>
                            <label class="input-group-text" style="border-radius:5px 0px 0px 5px;"
                                    for="inputGroupSelect01">From</label>
                        </div>
                        <div>
                            <input readonly
                                    placeholder="Starting date of Eduction"
                                    style="border-radius:0px;border-left:0;" width="300"
                                            id="datepickerFrom`+ index.toString() + `">
                        </div>
                    </div>

                    <div style="display:flex;">
                        <div>
                            <label class="input-group-text" style="border-radius:5px 0px 0px 5px;"
                                    for="inputGroupSelect01">To</label>
                        </div>
                        <div>
                            <input readonly
                                    placeholder="Ending date of Eduction"
                                    style="border-radius:0px;border-left:0;" width="300"
                                            id="datepickerTo`+ index.toString() + `">
                        </div>
                    </div>

                    <div class="form-group col-md-2 add_del_btn_outer">
                        <button class="btn_round remove_node_btn_frm_field" disabled>
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </div>
                </fieldset>

            </div>

              `);

                $('#datepickerFrom'+ index.toString()).datepicker({
                    uiLibrary: 'bootstrap5'
                });
                $('#datepickerTo' + index.toString()).datepicker({
                    uiLibrary: 'bootstrap5'
                });

                $(".form_field_outer").find(".remove_node_btn_frm_field:not(:first)").prop("disabled", false);
                $(".form_field_outer").find(".remove_node_btn_frm_field").first().prop("disabled", true);
            });
        });


        ///======Clone method
        $(document).ready(function () {
            $("body").on("click", ".add_node_btn_frm_field", function (e) {
                var index = $(e.target).closest(".form_field_outer").find(".form_field_outer_row").length + 1;
                var cloned_el = $(e.target).closest(".form_field_outer_row").clone(true);

                $(e.target).closest(".form_field_outer").last().append(cloned_el).find(".remove_node_btn_frm_field:not(:first)").prop("disabled", false);

                $(e.target).closest(".form_field_outer").find(".remove_node_btn_frm_field").first().prop("disabled", true);


                //change id
                $(e.target).closest(".form_field_outer").find(".form_field_outer_row").last().find("input[type='text']").attr("id", "mobileb_no_" + index);

                $(e.target).closest(".form_field_outer").find(".form_field_outer_row").last().find("select").attr("id", "no_type_" + index);

                console.log(cloned_el);
                //count++;
            });
        });


        $(document).ready(function () {
            //===== delete the form fieed row
            $("body").on("click", ".remove_node_btn_frm_field", function () {
                $(this).closest(".form_field_outer_row").remove();
                console.log("success");
            });
        });



    </script>

}