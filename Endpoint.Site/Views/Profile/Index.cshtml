@using Endpoint.Site.Models.Porfile.GetInformationByUsername;
@using Endpoint.Site.Views.Shared.Components;
@using galaxypremiere.Common.Constants;
@model ModelGetInformationByUsername;
@{
    Layout = "~/Views/Shared/_LayoutInnerPages.cshtml";
}
@{
    string username = @Context.Session.GetString("UserSession:user-username");
    string privateheadshot = @Context.Session.GetString("UserSession:user-privateheadshot");
    string nickname = @Context.Session.GetString("UserSession:user-nickname");
}

<style>
    .masonry {
        column-count: 3; /* Adjust the number of columns as desired */
        column-gap: 5px; /* Adjust the gap between columns as desired */
        flex-wrap: wrap;
        justify-content: space-between;
    }

        .masonry .item {
            display: flex;
            width: 100%;
            margin-bottom: 5px; /* Adjust the vertical margin between items as desired */
        }

            .masonry .item img {
                width: 100%;
                height: auto;
                object-fit: cover;
            }
            @@media (max-width:800px) {
                .masonry {
                     column-count: 1;
                }
            }
</style>
<style>
    /*tags*/
    .label {
        display: inline;
        padding: 0.2em 0.6em 0.3em;
        font-size: 15px;
        font-weight: 700;
        line-height: 1;
        color: #fff;
        text-align: center;
        white-space: nowrap;
        vertical-align: baseline;
        border-radius: 0.25em;
    }

    .label-info {
        background-color: #5bc0de;
    }
    /*General*/
    #txtimgContainer {
        background-color: #d9d9d9;
    }

    #txtPost {
        background-color: #d9d9d9;
        border: 0;
        resize: none;
    }

    .cursor {
        cursor: pointer;
    }

    .col-3 {
        flex: 0 0 25%;
        max-width: 18% !important;
    }

    @@media (max-width:800px) {
        .col-3 {
            font-size: 14px;
            font-weight: bold;
            flex: 0 0 100%;
            max-width: 100% !important;
            padding-bottom: 5px;
            padding-top: 5px;
        }

        .col-9 {
            max-width: 100% !important;
            flex: 0 0 100%;
            width: 100% !important;
            font-size: 17px;
            background-color: #f8f8f8;
        }

            .col-9 span {
                padding-top: 5px;
                padding-bottom: 5px;
            }

        .pull-right {
            display: none;
        }
    }

    .text-primary {
        color: #0079BF !important;
    }

    .btn-primary {
        background-color: #0079BF !important;
        border: 0;
    }

    .btn-dark {
        background-color: #ccc !important;
        border: 0;
    }

    .tab-content {
        padding: 0 !important;
    }
    /**/
    .counter .img-responsive-top-icons.img-crop-square {
        filter: invert(85%) sepia(7%) saturate(25%) hue-rotate(353deg) brightness(103%) contrast(78%);
    }

    .counter {
        width: 100%; /* Set the desired width or use relative units like percentage */
        height: auto; /* Allow the height to adjust automatically based on the content */
    }

    .svg-container {
        width: 100%;
        height: 0;
        padding-bottom: 100%; /* Maintain an aspect ratio of 1:1 (square) */
        position: relative;
    }

    .img-responsive-top-icons {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
    }
</style>
<style>
    /*tabs + loader*/
    .tab-pane.active {
        display: block;
        position: relative;
        padding-left: 5px;
    }

    .loadingBox {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: black;
        opacity: 0.3;
        z-index: 1;
        -moz-border-radius: 2px;
        -webkit-border-radius: 2px;
        border-radius: 2px;
    }

    .loadingBoxLoader {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 4px solid rgba(255, 255, 255, 0.2);
        border-top-color: #fff;
        animation: spin 1s ease-in-out infinite;
    }

    @@keyframes spin {
        0% {
            transform: translate(-50%, -50%) rotate(0deg);
        }

        100% {
            transform: translate(-50%, -50%) rotate(360deg);
        }
    }
</style>
<style>
    /*modal*/
    .btn-close {
        cursor: pointer;
    }

    .img-size {
        height: 450px;
        width: 700px;
        background-size: cover;
        overflow: hidden;
    }

    .modal-content {
        border: none;
    }

    .modal-body {
        padding: 0;
    }

    .carousel-control-prev-icon {
        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23009be1' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E");
        width: 30px;
        height: 48px;
    }

    .carousel-control-next-icon {
        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23009be1' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E");
        width: 30px;
        height: 48px;
    }
</style>
<style>
    /*comment*/
    .mw40 {
        max-width: 40px !important;
    }

    .media-heading {
        font-size: 11px;
        font-weight: bold;
    }

    .commentsBox {
        margin-top: 15px !important;
    }

    .commentsText {
        font-size: 11px !important;
    }
</style>
<style>
    .dropbtn {
        background-color: transparent;
        padding: 5px;
        font-size: 26px;
        border: none;
    }

        .dropbtn i {
            color: #ccc;
        }

    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 2;
        right: 0; /* Add this line to make the dropdown open from right */
    }

        .dropdown-content a {
            color: black;
            padding: 9px 13px;
            text-decoration: none;
            display: block;
        }

            .dropdown-content a:hover {
                background-color: #ddd;
            }

    .dropdown:hover .dropdown-content {
        display: block;
    }
</style>
@if (Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.IsSuccess)
{
    @*HEADER*@
    <div class="container-fluid">
        <div class="container db-social">
            <div class="jumbotron jumbotron-fluid"></div>
            <div class="container-fluid">
                <div class="row justify-content-center">
                    <div class="col-xl-11">
                        <div class="widget head-profile has-shadow">
                            <div class="widget-body pb-0">
                                <div class="row d-flex align-items-center">
                                    <div class="col-xl-4 col-md-4 d-flex justify-content-lg-start justify-content-md-start justify-content-center topItems">
                                        <ul>
                                            <li>
                                                <div class="counter">
                                                    <div class="svg-container">
                                                        <img class="img-responsive-top-icons img-crop-square"
                                                         src="~/SiteTemplate/innerpages/images/layout_img/mission.svg" alt="#">
                                                    </div>
                                                </div>
                                                <div class="counter">30</div>
                                                <div class="heading">Missions</div>
                                            </li>
                                            <li>
                                                <div class="counter icon">
                                                    <div class="svg-container">
                                                        <img class="img-responsive-top-icons img-crop-square"
                                                         src="~/SiteTemplate/innerpages/images/layout_img/trophy.svg" alt="#">
                                                    </div>
                                                </div>
                                                <div class="counter">40</div>
                                                <div class="heading">Accolades</div>
                                            </li>
                                            @*<li>
                                        <div class="counter">216</div>
                                        <div class="heading">Offline</div>
                                        </li>*@
                                        </ul>
                                    </div>
                                    <div class="col-xl-4 col-md-4 d-flex justify-content-center">
                                        <div class="image-default">
                                            <img class="kingImgFit rounded-circle"
                                             src=@(Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data?.Photo != null ? "/SiteTemplate/innerpages/images/user-headshot/"+Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data.Photo+"-thumb.jpg" : "/SiteTemplate/innerpages/images/layout_img/img-avatar.jpg")
                                             onerror="this.src='/SiteTemplate/innerpages/images/layout_img/img-avatar.jpg'"
                                             alt=@(Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data?.Nickname.Trim() != "" ? Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data.Nickname : Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data.Username)>
                                        </div>
                                        <div class="infos">
                                            <h2>
                                                @(Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data?.Nickname.Trim() != "" ? Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data.Nickname : Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data.Username)
                                            </h2>
                                            <div class="location">
                                                @(Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data?.AccountType != null ? Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data.AccountType : "null")
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-4 col-md-4 d-flex justify-content-lg-end justify-content-md-end justify-content-center">
                                        <div class="follow">
                                            @*<a class="btn btn-shadow" href="#"><i class="la la-user-plus"></i>Add Friend</a>*@
                                            <div class="actions dark">
                                                <div class="dropdown">
                                                    <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle">
                                                        <i class="la la-ellipsis-h"></i>
                                                    </button>
                                                    <div class="dropdown-menu" x-placement="bottom-start" style="display: none; position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 35px, 0px);">
                                                        <a href="#" class="dropdown-item">
                                                            Report
                                                        </a>
                                                        <a href="#" class="dropdown-item">
                                                            Block
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @*BODY*@
    <div class="row">
        <div class="col-lg-4">
            <div class="card">
                <div class="card-body">
                    <div class="profile-statistics">
                        <div class="row d-flex align-items-center topItems-576" style="display:none;">
                            <div class="col-xl-4 col-md-4 d-flex justify-content-lg-start justify-content-md-start justify-content-center">
                                <div class="topItems-content">
                                    <div class="counter">
                                        <div class="svg-container topItems-576-img">
                                            <img class="img-responsive-top-icons img-crop-square"
                                             src="~/SiteTemplate/innerpages/images/layout_img/mission.svg" alt="#">
                                        </div>
                                    </div>
                                    <div class="counter">30</div>
                                    <div class="heading">Missions</div>
                                </div>

                                <div class="topItems-content">
                                    <div class="counter icon">
                                        <div class="svg-container topItems-576-img">
                                            <img class="img-responsive-top-icons img-crop-square "
                                             src="~/SiteTemplate/innerpages/images/layout_img/trophy.svg" alt="#">
                                        </div>
                                    </div>
                                    <div class="counter">40</div>
                                    <div class="heading">Accolades</div>
                                </div>

                            </div>
                        </div>
                        <div class="text-center mt-4 border-bottom-1 pb-3">
                            <div class="row">
                                <div class="col">
                                    <h3 class="m-b-0">1150</h3><span>Friends</span>
                                </div>
                                <div class="col">
                                    <h3 class="m-b-0">140</h3><span>Followers</span>
                                </div>
                                <div class="col">
                                    <h3 class="m-b-0">45</h3><span>Following</span>
                                </div>
                            </div>
                            <div class="mt-4">
                                <a href="javascript:void()" class="btn btn-primary pl-5 pr-5 mr-3 mb-4">Follow</a>
                                <a href="javascript:void()" class="btn btn-dark pl-5 pr-5 mb-4">
                                    Send Message
                                </a>
                            </div>
                        </div>
                    </div>




                    @if (Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto != null
                   && Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto.Count > 0)
                    {

                        <div class="profile-interest mt-4 pb-2 border-bottom-1">
                            <h5 class="text-primary d-inline">PHOTOS</h5>
                            <div class="row mt-4">
                                @for (byte i = 0; i <= Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto.Count - 1; i++)
                                {
                                    <div class="col-lg-4 col-xl-4 col-sm-4 col-6 int-col cursor">
                                        <a onclick="openModalPhotos6('@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].Id','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].Filename','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].Title','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].Detail','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].VisitorCounter','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].CountComments','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].Like','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].CountLikes','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].Nickname','@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].Headshot','@privateheadshot')">


                                            <img src="~/SiteTemplate/innerpages/images/user-photos/@Model.ResultGetUsersInformationPhotosByUsernameServiceDto.resultGetUsersInformationPhotosByUsernameServiceDto[i].Filename" alt=""
                                     class="img-fluid kingImgFit">


                                        </a>
                                    </div>
                                }
                            </div>
                        </div>
                    }


                    <div class="profile-blog pt-3 border-bottom-1 pb-1">
                        <h5 class="text-primary d-inline">LastCall Festivals</h5><a href="javascript:void()" class="pull-right f-s-16">More</a>
                        <img src="~/sitetemplate/profilepages/assets/images/profile/1.jpg" alt="" class="img-fluid kingImgFit mt-4 mb-4 w-100">
                        <h4>Darwin Creative Agency Theme</h4>
                        <p>A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a paradisematic country, in which roasted parts of sentences fly into your mouth.</p>
                    </div>

                    <div class="profile-news mt-4 pb-3">
                        <h5 class="text-primary d-inline">Our Latest News</h5>
                        <div class="media pt-3 pb-3">
                            <img src="~/sitetemplate/profilepages/assets/images/profile/5.jpg" alt="image" class="mr-3">
                            <div class="media-body">
                                <h5 class="m-b-5">John Tomas</h5>
                                <p>I shared this on my fb wall a few months back, and I thought I'd share it here again because it's such a great read</p>
                            </div>
                        </div>
                        <div class="media pt-3 pb-3">
                            <img src="~/sitetemplate/profilepages/assets/images/profile/6.jpg" alt="image" class="mr-3">
                            <div class="media-body">
                                <h5 class="m-b-5">John Tomas</h5>
                                <p>I shared this on my fb wall a few months back, and I thought I'd share it here again because it's such a great read</p>
                            </div>
                        </div>
                        <div class="media pt-3 pb-3">
                            <img src="~/sitetemplate/profilepages/assets/images/profile/7.jpg" alt="image" class="mr-3">
                            <div class="media-body">
                                <h5 class="m-b-5">John Tomas</h5>
                                <p>I shared this on my fb wall a few months back, and I thought I'd share it here again because it's such a great read</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">
                    <div class="profile-tab">
                        <div class="custom-tab-1">
                            <ul class="nav nav-tabs p-0">
                                <li class="nav-item">
                                    <a href="#profile-posts" data-toggle="tab" class="nav-link active show">Posts</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#profile-missions" data-toggle="tab" class="nav-link">Missions</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#profile-accolades" data-toggle="tab" class="nav-link">Accolades</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#profile-photos" data-toggle="tab" class="nav-link">Photos</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#profile-about" data-toggle="tab" class="nav-link">About Me</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#profile-contact" data-toggle="tab" class="nav-link">Contact</a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div id="profile-posts" class="tab-pane fade active show">
                                    <div class="my-post-content pt-3">

                                        @if (User.Identity.IsAuthenticated && Model.IsVisitorOwner)
                                        {
                                            <div class="loadingBox" id="divPhotoPostLoader">
                                                <div class="loadingBoxLoader"></div>
                                            </div>

                                            <div class="post-input">
                                                <div id="txtimgContainer" class="rounded">
                                                    <textarea name="textarea" id="txtPost" cols="30" rows="5"
                                                      class="form-control" placeholder="Please type what you want...."></textarea>
                                                    <div id="imgsPostPhotosContainerSelected" hidden>
                                                        <div id="imgsPostPhotosSelected" class="masonry"></div>
                                                    </div>
                                                </div>
                                                <a onclick="PostPost();" class="btn btn-primary">Post</a>
                                                <a onclick="OpenPostPhotoUploadModal();"><i class="fa fa-camera"></i> </a>
                                            </div>

                                        }
                                        @if (Model.ResultGetUsersPostsServiceDto.resultGetUsersPostsServiceDto != null)
                                        {
                                            <ul class="timeline" id="divTimeLine">
                                                @foreach (var post in Model.ResultGetUsersPostsServiceDto.resultGetUsersPostsServiceDto)
                                                {
                                                    <li>

                                                        <div class="timeline-time">
                                                            <span class="date" data-insert-date="@post.InsertDate"></span>
                                                            <span class="time" data-insert-date="@post.InsertDate"></span>
                                                        </div>
                                                        <div class="timeline-icon">
                                                            <a href="javascript:;">&nbsp;</a>
                                                        </div>
                                                        <div class="timeline-body">
                                                            <div class="timeline-header">



                                                                <span class="userimage">
                                                                    @if (String.IsNullOrEmpty(post.OwnerHeadshot))
                                                                    {
                                                                        <img src="/SiteTemplate/innerpages/images/layout_img/img-avatar.jpg" alt="">
                                                                    }
                                                                    else
                                                                    {
                                                                        <img src="/SiteTemplate/innerpages/images/user-headshot/@post.OwnerHeadshot-thumb.jpg" alt="">
                                                                    }
                                                                </span>
                                                                @if (String.IsNullOrEmpty(post.OwnerNickname))
                                                                {
                                                                    <span class="username"><a href="./@post.OwnerUsername">@post.OwnerUsername</a></span>
                                                                }
                                                                else
                                                                {
                                                                    <span class="username"><a href="./@post.OwnerUsername">@post.OwnerNickname</a></span>
                                                                }
                                                                @* <span class="pull-right text-muted">18 Views</span>*@
                                                                <div class="dropdown pull-right">
                                                                    <button class="dropbtn">
                                                                        <i class="fa fa-ellipsis-v"></i>
                                                                    </button>
                                                                    <div class="dropdown-content">
                                                                        <a onclick="ApplyArchivePost('@post.PostId');">Archive</a>
                                                                        <a onclick="DeletePost('@post.PostId');">Delete</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="timeline-content">
                                                                <p>
                                                                    @post.Post
                                                                </p>
                                                                <div class="masonry">
                                                                    
                                                                    @foreach (var photo in @post.resultGetPostPhotosByPostIdDto.resultGetPostPhotosByPostIdDto)
                                                                    {
    <div class="item" id="item_@post.PostId">
        <img src="/SiteTemplate/innerpages/images/user-post-photos/@photo.Filename-thumb.jpg"
        onclick="setUniquePostPhotosId('@photo.Id','@GeneralConstants.PostPhoto','@post.PostId');"
        id="imgPostPhotos_@photo.Id"
        data-src="@photo.Filename"
        style="cursor:pointer;"
        class="img-thumbnail mr-0 gallery-image" />        
    </div>
                                                                    }

                                                                </div>

                                                            </div>
                                                            <div class="timeline-likes">
                                                                <div class="stats-right">
                                                                    <span class="stats-text" id="spanPostCountComment_@post.PostId">@post.CountComments</span>&nbsp;Comments
                                                                    @*<span class="stats-text">259 Shares</span>*@
                                                                    @*<a href="javascript:;" class="m-r-15 text-inverse-lighter"><i class="fa fa-share fa-fw fa-lg m-r-3"></i> Share</a>*@
                                                                </div>
                                                                <div class="stats">


                                                                    @if (User.Identity.IsAuthenticated)
                                                                    {
                                                                        if (post.Liked)
                                                                        {
                                                                            <a onclick="ApplyLike('1','@post.PostId')" id="anchorPostLike_@post.PostId" class="fa fa-heart cursor" style="font-size:15px;"></a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <a onclick="ApplyLike('1','@post.PostId')" id="anchorPostLike_@post.PostId" class="fa fa-heart-o cursor" style="font-size:15px;"></a>
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <a onclick="showLoginModal();" class="fa fa-heart-o cursor" style="font-size:15px;"></a>
                                                                    }


                                                                    <span id="spanPostCountLikes_@post.PostId" class="stats-total">@post.CountLikes</span>
                                                                </div>
                                                            </div>
                                                            <div class="timeline-comment-box">
                                                                <div class="user">
                                                                    @if (privateheadshot == null)
                                                                    {
                                                                        <img class="img-responsive rounded-circle img-fluid kingImgWH100" src='@GeneralConstants.PublicHeadshot'>
                                                                    }
                                                                    else
                                                                    {
                                                                        <img class="img-responsive rounded-circle img-fluid kingImgWH100" src='@privateheadshot'>
                                                                    }

                                                                </div>
                                                                <div class="input">
                                                                    <div class="input-group">
                                                                        <input type="text" id="txtPostComment_@post.PostId" class="form-control rounded-corner" placeholder="Write a comment...">

                                                                        @if (User.Identity.IsAuthenticated)
                                                                        {
                                                                            <button type="button"
                                                                    id="btnPostComment_@post.PostId"
                                                                    onclick="PostComment('1','@post.PostId')" class="btn cur-p btn-dark" style="border-radius:0px !important;">
                                                                                Leave it
                                                                            </button>
                                                                        }
                                                                        else
                                                                        {
                                                                            <a onclick="showLoginModal();" id="" class="btn cur-p btn-dark">Sign Up</a>
                                                                        }



                                                                    </div>
                                                                </div>






                                                                <div class="media commentsBox">
                                                                    <div class="media-body mb5" id="media-body-post-comments">

                                                                        <div class="loadingBox" id="divPostCommentLoader_@post.PostId">
                                                                            <div class="loadingBoxLoader"></div>
                                                                        </div>

                                                                        @foreach (var comment in @post.resultGetPostCommentsByPostIdDto._resultGetPostCommentsByPostIdDto)
                                                                        {

                                                                            <div class="media pb10" id="postCommentBox_@comment.Id" style="margin:10px;">
                                                                                <a class="pull-left" href="#">
                                                                                    <div class="user">
                                                                                        @if (comment.Headshot == null)
                                                                                        {
                                                                                            <img class="kingImgFit" src="@GeneralConstants.PublicHeadshot" alt="...">
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <img class="kingImgFit" src="@GeneralConstants.PrivateHeadshot/@comment.Headshot-thumb.jpg" alt="...">
                                                                                        }
                                                                                    </div>
                                                                                </a>
                                                                                <div class="media-body mb5">

                                                                                    <h5 class="media-heading mbn">
                                                                                        @comment.NicknameCommenter
                                                                                        <small class="spanPostCommentDate">@comment.InsertTime</small>
                                                                                    </h5>

                                                                                    <p class="commentsText">@comment.Comment</p>

                                                                                </div>
                                                                                @if (comment.AllowToRemove && User.Identity.IsAuthenticated)
                                                                                {
                                                                                    <span onclick="removeComment('1','@comment.Id','@post.PostId')" class="close-button cursor">&times;</span>
                                                                                }


                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>










                                                            </div>
                                                        </div>

                                                    </li>
                                                }
                                            </ul>
                                        }
                                        @if (Model.ResultGetUsersPostsServiceDto.resultGetUsersPostsServiceDto.Count == 0)
                                        {
                                            <div class="alert alert-dark" role="alert">Nothing has been posted yet.</div>
                                        }

                                        <div class="text-center mb-2">
                                            <a href="javascript:void()" class="btn btn-primary">Load More</a>
                                        </div>
                                    </div>
                                </div>
                                <div id="profile-missions" class="tab-pane fade">
                                    <div class="pt-3">
                                        <div class="settings-form">
                                            <h4 class="text-primary">Account Setting</h4>
                                            <form>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label>Email</label>
                                                        <input type="email" placeholder="Email" class="form-control">
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label>Password</label>
                                                        <input type="password" placeholder="Password" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label>Address</label>
                                                    <input type="text" placeholder="1234 Main St" class="form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label>Address 2</label>
                                                    <input type="text" placeholder="Apartment, studio, or floor" class="form-control">
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label>City</label>
                                                        <input type="text" class="form-control">
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <label>State</label>
                                                        <select class="form-control" id="inputState">
                                                            <option selected="">Choose...</option>
                                                            <option>Option 1</option>
                                                            <option>Option 2</option>
                                                            <option>Option 3</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-2">
                                                        <label>Zip</label>
                                                        <input type="text" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-check">
                                                        <input type="checkbox" class="form-check-input" id="gridCheck">
                                                        <label for="gridCheck" class="form-check-label">Check me out</label>
                                                    </div>
                                                </div>
                                                <button class="btn btn-primary" type="submit">
                                                    Sign
                                                    in
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div id="profile-accolades" class="tab-pane fade">
                                    <div class="pt-3">
                                        <div class="settings-form">
                                            <h4 class="text-primary">Account Setting</h4>
                                            <form>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label>Email</label>
                                                        <input type="email" placeholder="Email" class="form-control">
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label>Password</label>
                                                        <input type="password" placeholder="Password" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label>Address</label>
                                                    <input type="text" placeholder="1234 Main St" class="form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label>Address 2</label>
                                                    <input type="text" placeholder="Apartment, studio, or floor" class="form-control">
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label>City</label>
                                                        <input type="text" class="form-control">
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <label>State</label>
                                                        <select class="form-control" id="inputState">
                                                            <option selected="">Choose...</option>
                                                            <option>Option 1</option>
                                                            <option>Option 2</option>
                                                            <option>Option 3</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-2">
                                                        <label>Zip</label>
                                                        <input type="text" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-check">
                                                        <input type="checkbox" class="form-check-input" id="gridCheck">
                                                        <label for="gridCheck" class="form-check-label">Check me out</label>
                                                    </div>
                                                </div>
                                                <button class="btn btn-primary" type="submit">
                                                    Sign
                                                    in
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div id="profile-photos" class="tab-pane fade">
                                    <div class="pt-3">
                                        <div class="settings-form">
                                            <h4 class="text-primary">Account Setting</h4>
                                            <form>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label>Email</label>
                                                        <input type="email" placeholder="Email" class="form-control">
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label>Password</label>
                                                        <input type="password" placeholder="Password" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label>Address</label>
                                                    <input type="text" placeholder="1234 Main St" class="form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label>Address 2</label>
                                                    <input type="text" placeholder="Apartment, studio, or floor" class="form-control">
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <label>City</label>
                                                        <input type="text" class="form-control">
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        <label>State</label>
                                                        <select class="form-control" id="inputState">
                                                            <option selected="">Choose...</option>
                                                            <option>Option 1</option>
                                                            <option>Option 2</option>
                                                            <option>Option 3</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-2">
                                                        <label>Zip</label>
                                                        <input type="text" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="form-check">
                                                        <input type="checkbox" class="form-check-input" id="gridCheck">
                                                        <label for="gridCheck" class="form-check-label">Check me out</label>
                                                    </div>
                                                </div>
                                                <button class="btn btn-primary" type="submit">
                                                    Sign
                                                    in
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div id="profile-about" class="tab-pane fade">

                                    <div class="loadingBox" id="loadingTabAbout">
                                        <div class="loadingBoxLoader">
                                        </div>
                                    </div>

                                    <div class="profile-personal-info pt-4 pb-2">
                                        <h4 class="text-primary mb-4">Personal Information</h4>
                                        <div id="divInfoAbout" hidden>
                                            There is no information.
                                        </div>
                                        <div class="row mb-1" id="divInfoAbout_firstname" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-300">
                                                    Firstname <span class="pull-right">:</span>
                                                </h6>
                                            </div>
                                            <div class="col-9">
                                                <span id="spanInfoAbout_firstname"></span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoAbout_middlename" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-300">
                                                    Middle name <span class="pull-right">:</span>
                                                </h6>
                                            </div>
                                            <div class="col-9">
                                                <span id="spanInfoAbout_middlename"></span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoAbout_surname" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-300">
                                                    Surname <span class="pull-right">:</span>
                                                </h6>
                                            </div>
                                            <div class="col-9">
                                                <span id="spanInfoAbout_surname"></span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoAbout_gender" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-300">
                                                    Gender <span class="pull-right">:</span>
                                                </h6>
                                            </div>
                                            <div class="col-9">
                                                <span id="spanInfoAbout_gender"></span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoAbout_language" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-300">Language<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span id="spanInfoAbout_language"></span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoAbout_age" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-300">
                                                    Age <span class="pull-right">:</span>
                                                </h6>
                                            </div>
                                            <div class="col-9">
                                                <span id="spanInfoAbout_age"></span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoAbout_birthcity" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-300">Birth City <span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span id="spanInfoAbout_birthcity"></span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoAbout_currentcity" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-300">Current City<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span id="spanInfoAbout_currentCity"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="profile-about-me mt-3">
                                        <div class="border-bottom-1 pb-2" id="divInfoAbout_inroduction" hidden>
                                            <h4 class="text-primary">Inroduction</h4>
                                            <span id="spanInfoAbout_introduction"></span>
                                        </div>
                                        <div class="pt-4 border-bottom-1 pb-2" id="divInfoAbout_bio" hidden>
                                            <h4 class="text-primary">Biography</h4>
                                            <span id="spanInfoAbout_bio"></span>
                                        </div>
                                        <div class="pt-4 border-bottom-1 pb-2" id="divInfoAbout_note" hidden>
                                            <h4 class="text-primary">Note</h4>
                                            <span id="spanInfoAbout_note"></span>
                                        </div>
                                    </div>
                                    <div class="profile-skills pt-2 border-bottom-1 pb-2" id="divInfoAbout_positions" hidden>
                                        <h4 class="text-primary mb-4">Positions</h4>
                                        <div id="positions" class="panel-body pb5"></div>
                                    </div>

                                </div>
                                <div id="profile-contact" class="tab-pane fade">

                                    <div class="loadingBox" id="loadingTabContact">
                                        <div class="loadingBoxLoader">
                                        </div>
                                    </div>

                                    <div class="profile-personal-info pt-4 pb-2">
                                        <h4 class="text-primary mb-4">Personal Contact</h4>

                                        <div id="divInfoContact" hidden>
                                            There is no information.
                                        </div>

                                        <div class="row mb-1" id="divInfoContact_country" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Country<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_country"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_address_1" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Address Line 1<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Address1"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_address_2" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Address Line 2<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Address2"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_city" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">City<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_City"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_state" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">State<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_State"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_postalCode" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Postal Code<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_postalCode"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_Phone" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Phone<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Phone"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_Email" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Email<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Email"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_Website" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Website<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Website"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_FB" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Facebook<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Facebook"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_INST" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Instagram<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Instagram"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_TW" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Twitter<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Twitter"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_ST32" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Stage32<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Stage32"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_Y" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Youtube<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Youtube"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_LINK" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Linkden<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Linkden"></span>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mb-1" id="divInfoContact_VIMEO" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">Vimeo<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Vimeo"></span>
                                                </span>
                                            </div>
                                        </div> <div class="row mb-1" id="divInfoContact_IMDB" hidden>
                                            <div class="col-3">
                                                <h6 class="f-w-200">IMDb<span class="pull-right">:</span></h6>
                                            </div>
                                            <div class="col-9">
                                                <span>
                                                    <span id="spanInfoContact_Imdb"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
else
{
    <div class="container">
        <div class="center verticle_center full_height">
            <div class="error_page">
                <div class="center">
                    <div class="error_icon">
                        <img class="img-responsive" src="~/SiteTemplate/innerpages/images/layout_img/error.png" alt="#">
                    </div>
                </div>
                <br>
                <h3>THE USER NOT FOUND !</h3>
                <p>YOU SEEM TO BE TRYING TO FIND HIS WAY HOME</p>
                <div class="center"><a class="main_bt" href="~/">Go To Home Page</a></div>
            </div>
        </div>
    </div>
}
<!-- Modal: Showing Post Photos-->
     <div id="Kinglightbox" class="Kinglightbox" style="display:none;">
      <span class="KinglightboxClose" id="KinglightboxClose">&times;</span>
         <img id="Kinglightbox-image" alt="Kinglightbox Image">
            <div class="KinglightboxControls">                                                                                
            <span id="KinglightboxPrev" class="KinglightboxControl">&#10094;</span>
            <span id="KinglightboxNext"  class="KinglightboxControl">&#10095;</span>
            </div>

    </div>
<!-- Modal: Albums Photos-->
<div class="modal fade" id="PhotoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content-photo">
            <div class="modal-header">
                <h5 class="modal-title"><span id="PhotoModalTitle"></span></h5>
                <a class="btn-close" data-dismiss="modal" aria-label="Close"></a>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-7">
                        <img id="PhotoModalIMG" />
                    </div>
                    <div class="col-5">
                        <input type="hidden" id="hiddenPhotoModalId" />
                        @*Caption*@
                        <div id="PhotoModalCaption">
                            <div class="row">
                                <div class="timeline-header p-2">
                                    <span class="userimage">
                                        <img class="img-fluid kingImgFit"
                                             id="imgPhotoOwnerHeadshot" alt="">
                                    </span>
                                    <span class="username" id="spanPhotoOwnerName"></span>
                                    <span class="pull-right text-muted" id="spanPhotoVisitorCouter"></span>
                                </div>
                            </div>
                            <div class="row" id="PhotoModalBoxDetail">
                                <div class="col p-2">
                                    <span id="PhotoModalDetail"></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="timeline-footer">
                                    <div class="icon_info" style="">
                                        <ul>
                                            <li>
                                                @if (User.Identity.IsAuthenticated)
                                                {
                                                    <a onclick="ApplyLike('0','');" id="anchorPhotoLike" class="fa fa-heart-o cursor"><span id="spanPhotoCountLikes" class="badge"></span></a>
                                                }
                                                else
                                                {
                                                    <a onclick="showLoginModal();" id="anchorPhotoLike" class="fa fa-heart-o cursor"><span id="spanPhotoCountLikes" class="badge"></span></a>
                                                }
                                            </li>
                                        </ul>
                                        <ul>
                                            <li><a onclick="openComments();" id="anchorPhotoComment" class="fa fa-comments-o cursor"><span class="badge" id="spanPhotoCountComments"></span></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @*Comment*@
                        <div id="PhotoModalComment" hidden>
                            <a onclick="closeComments();" class="cursor"> <i class="fa fa-mail-reply"></i> </a>
                            <div class="timeline-comment-box">
                                <div class="user">
                                    <img class="img-responsive rounded-circle img-fluid kingImgWH100"
                                         id="imgPhotoCommenterHeadshot" alt="" />
                                </div>
                                <div class="input">
                                    <div class="input-group">
                                        <input type="text"
                                               id="txtPostModalComment"
                                               class="form-control rounded-corner" placeholder="Write a comment...">

                                        @if (User.Identity.IsAuthenticated)
                                        {
                                            <button type="button" disabled
                                                id="btnPostModalComment"
                                                onclick="PostComment('0','')"
                                                class="btn cur-p btn-dark" style="border-radius:0px !important;">
                                                Comment
                                            </button>
                                        }
                                        else
                                        {
                                            <button type="button"
                                                onclick="showLoginModal();"
                                                class="btn cur-p btn-dark" style="border-radius:0px !important;">
                                                Sign Up
                                            </button>
                                        }

                                    </div>
                                </div>
                                <div class="media commentsBox">

                                    <div class="loadingBox" id="divPhotoCommentLoader">
                                        <div class="loadingBoxLoader"></div>
                                    </div>

                                    <div class="media-body mb5" id="media-body-comments" hidden>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal: Posts Photos > Upload -->
<div class="modal fade" id="PostPhotoUploadModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content-photo">
            <div class="modal-header">
                <h5 class="modal-title"><span>Title</span></h5>
                <a class="btn-close" data-dismiss="modal" aria-label="Close"></a>
            </div>
            <div class="modal-body">
                <div>
                    <div class="p-3">
                        <input class="form-control form-control-lg" id="fileuploadpostphoto" multiple type="file">
                    </div>
                    <div class="slideshow-container" id="slideshowContainer"></div>
                    <ul class="slideshow-indicators" id="slideshowIndicators"></ul>

                    <div class="alert alert-primary m-3" role="alert">
                        You are allowed to choose four photos with a maximum size of 2MB each.
                    </div>
                    <div class="pl-3 pb-3">
                        <button type="button" onclick="AddSelectedPhoto()" id="btnAddSelectedPhoto" class="btn cur-p btn-primary">
                            Add
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section Styles{
    <style>
        /*Modal Select Post Photos*/
        .slideshow-container {
            position: relative;
            max-width: 100%;
            margin: auto;
            overflow: hidden;
        }

        .slideshow-image {
            display: none;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

            .slideshow-image.active {
                display: block;
            }

        .slideshow-indicators {
            position: absolute;
            margin-top: 80px;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: center;
        }

        .slideshow-indicator {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.3);
            margin: 0 5px;
            cursor: pointer;
        }

            .slideshow-indicator.active {
                background-color: rgba(0, 0, 0, 0.8);
            }
    </style>
    <style>

        #txtimgContainer input:focus,
        #txtimgContainer textarea:focus {
            box-shadow: 0 0 0 0 !important;
        }

        #imgsPostPhotosContainerSelected {
            background-color: #d9d9d9;
            /*padding: 10px;*/
        }

        #imgsPostPhotosSelected {
            padding: 10px;
        }

    </style>
    <link href="~/lib/modal/modal-user-photo.css" rel="stylesheet" />
    <link href="~/sitetemplate/profilepages/assets/css/style.css" rel="stylesheet" />
    <link href="~/sitetemplate/innerpages/pagecssjs/profile/profile.css" rel="stylesheet" />
    @* Lightbox - Gallery *@
<link href="~/lib/kingfuncs/lightbox/lightbox.css" rel="stylesheet" />
}
@section Scripts{
    @* Lightbox - Gallery (show post photos) *@
    <script src="~/lib/kingfuncs/lightbox/lightbox.js"></script>
    @* File Extension and Volume *@
    <script src="~/lib/kingfuncs/fileextensionsize/fileextensionsize.js"></script>
    @* set user 's headshot and header *@
    @if (Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data?.Header != null)
    {
        <script>
            $(document).ready(function () {
                var filename = '@Model.ResultGetUsersInformationByUsernameServiceDto.resultGetUsersInformationByUsernameServiceDto.Data.Header';
                $(".jumbotron").css("background-image", "url('SiteTemplate/innerpages/images/user-header/" + filename + "-original.jpg')");
            });
        </script>
    }
    <script>
        //////////////////////// Modal + Tabs
        function openModalPhotos6(id, file, title, detail, visitorCounter, countComments, like, CountLikes, nickname, headshot, commenterHeadshot) {
            $("#PhotoModalComment").prop("hidden", true);
            $("#PhotoModalCaption").prop("hidden", false);
            $("#PhotoModal").modal("show");
            $("#hiddenPhotoModalId").val(id);
            $("#PhotoModalIMG").attr("src", "/SiteTemplate/innerpages/images/user-photos/" + file);
            if (title == null || title.trim() == '')
                $("#PhotoModalTitle").text('unknown');
            else
                $("#PhotoModalTitle").text(title);
            detail = `<i class="fa fa-quote-left fa-fw"></i><br>` + detail.replace(/<br>/g, '<br>') + `<i class="fa fa-quote-right fa-fw"></i>`;
            $("#PhotoModalDetail").html(detail);
            $("#spanPhotoOwnerName").text(nickname);
            $("#imgPhotoCommenterHeadshot").attr("src", commenterHeadshot);
            if (headshot == null || headshot.trim() == '') $("#imgPhotoOwnerHeadshot").attr("src", "@GeneralConstants.PublicHeadshot"); else $("#imgPhotoOwnerHeadshot").attr("src", "@privateheadshot");
            if (detail.trim() == '<i class="fa fa-quote-left fa-fw"></i><br><i class="fa fa-quote-right fa-fw"></i>') $('#PhotoModalBoxDetail').prop("hidden", true); else $('#PhotoModalBoxDetail').prop("hidden", false);
            if (CountLikes == null || CountLikes.trim() == '') $('#spanPhotoCountLikes').text("0"); else $('#spanPhotoCountLikes').text(CountLikes);
            if (countComments == null || countComments.trim() == '') $('#spanPhotoCountComments').text("0"); else $('#spanPhotoCountComments').text(countComments);
            if (like == 'True') {// liked
                $("#anchorPhotoLike").removeClass("fa-heart-o");
                $("#anchorPhotoLike").addClass("fa-heart");
            } else {// unliked
                $("#anchorPhotoLike").removeClass("fa-heart");
                $("#anchorPhotoLike").addClass("fa-heart-o");
            }
            IncreamentPhotoVisitorCounter(id);
        }
        function IncreamentPhotoVisitorCounter(id) {
            $.ajax({
                contentType: 'application/x-www-form-urlencoded',
                dataType: 'json',
                type: 'POST',
                data: { 'PhotoId': id },
                url: 'profile/PostPhotoIncrementVisitorCounter',
                success: function (data) {
                    $('#spanPhotoVisitorCouter').text(data.data.visitorCounter + ' views');
                },
                error: function (request, status, error) {
                    alert(request.responseText + ' ' + status + ' ' + error);
                }
            });
        }
        // Get the tab links
        const tabLinks = document.querySelectorAll('.nav-link');
        // Loop through the tab links and add a click event listener
        tabLinks.forEach(tabLink => {
            tabLink.addEventListener('click', function (event) {
                event.preventDefault();
                // Get the target tab content ID from the link's href attribute
                const target = this.getAttribute('href');
                switch (target) {
                    case '#profile-posts':
                        alert('post');
                        break;
                    case '#profile-missions':
                        alert('missions');
                        break;
                    case '#profile-accolades':
                        alert('accolades');
                        break;
                    case '#profile-photos':
                        alert('photos');
                        break;
                    case '#profile-about':
                        $('#loadingTabAbout').css('display', 'block'); // get started loading ...
                        setTimeout(function () {
                            // retrives data from databse
                            $.ajax({
                                contentType: 'application/x-www-form-urlencoded',
                                dataType: 'json',
                                type: 'GET',
                                data: { 'username': '@username' },
                                url: 'profile/GetInfoAbout',
                                success: function (data) {
                                    if (data.resultGetUsersInformationAboutByUsernameServiceDto.isSuccess) {

                                        $("#divInfoAbout").prop("hidden", true);
                                        var fetchedData = data.resultGetUsersInformationAboutByUsernameServiceDto.data;

                                        var varFirstname = fetchedData.firstname;
                                        if (varFirstname != null) {
                                            $("#spanInfoAbout_firstname").text(varFirstname);
                                            $("#divInfoAbout_firstname").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_firstname").prop("hidden", true);
                                        var varMiddlename = fetchedData.middleName;
                                        if (varMiddlename != null) {
                                            $("#spanInfoAbout_middlename").text(varMiddlename);
                                            $("#divInfoAbout_middlename").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_middlename").prop("hidden", true);
                                        var varSurname = fetchedData.surname;
                                        if (varSurname != null) {
                                            $("#spanInfoAbout_surname").text(varSurname);
                                            $("#divInfoAbout_surname").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_surname").prop("hidden", true);
                                        var varGender = fetchedData.genderText;
                                        if (varGender != 'NotSpecified') {
                                            $("#spanInfoAbout_gender").text(varGender);
                                            $("#divInfoAbout_gender").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_gender").prop("hidden", true);
                                        var varLang = fetchedData.languageName;
                                        if (varLang != null) {
                                            $("#spanInfoAbout_language").text(varLang);
                                            $("#divInfoAbout_language").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_language").prop("hidden", true);
                                        var varAge = fetchedData.birthDay;
                                        if (varAge != null) {
                                            varAge = '(' + fetchedData.age + ') ' + varAge;
                                            $("#spanInfoAbout_age").text(varAge);
                                            $("#divInfoAbout_age").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_age").prop("hidden", true);
                                        var varBirthCity = fetchedData.birthCity;
                                        if (varBirthCity != null) {
                                            $("#spanInfoAbout_birthcity").text(varBirthCity);
                                            $("#divInfoAbout_birthcity").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_birthcity").prop("hidden", true);
                                        var varCurrentCity = fetchedData.currentCity;
                                        if (varCurrentCity != null) {
                                            $("#spanInfoAbout_currentCity").text(varCurrentCity);
                                            $("#divInfoAbout_currentcity").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_currentcity").prop("hidden", true);
                                        var varIntroduction = fetchedData.introduction;
                                        if (varIntroduction != null) {
                                            $("#spanInfoAbout_introduction").text(varIntroduction);
                                            $("#divInfoAbout_inroduction").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_inroduction").prop("hidden", true);
                                        var varBio = fetchedData.bio;
                                        if (varBio != null) {
                                            $("#spanInfoAbout_bio").text(varBio);
                                            $("#divInfoAbout_bio").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_bio").prop("hidden", true);
                                        var varNote = fetchedData.note;
                                        if (varNote != null) {
                                            $("#spanInfoAbout_note").text(varNote);
                                            $("#divInfoAbout_note").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_note").prop("hidden", true);
                                        var varPositions = fetchedData.position;
                                        if (varNote != null) {
                                            SetPositions(fetchedData.position);
                                            $("#divInfoAbout_positions").prop("hidden", false);
                                        }
                                        else $("#divInfoAbout_positions").prop("hidden", true);
                                    }
                                    else {
                                        $("#divInfoAbout").prop("hidden", false);
                                        $("#divInfoAbout_firstname").prop("hidden", true);
                                        $("#divInfoAbout_middlename").prop("hidden", true);
                                        $("#divInfoAbout_surname").prop("hidden", true);
                                        $("#divInfoAbout_gender").prop("hidden", true);
                                        $("#divInfoAbout_language").prop("hidden", true);
                                        $("#divInfoAbout_age").prop("hidden", true);
                                        $("#divInfoAbout_birthcity").prop("hidden", true);
                                        $("#divInfoAbout_currentcity").prop("hidden", true);
                                        $("#divInfoAbout_inroduction").prop("hidden", true);
                                        $("#divInfoAbout_bio").prop("hidden", true);
                                        $("#divInfoAbout_note").prop("hidden", true);
                                        $("#divInfoAbout_positions").prop("hidden", true);
                                    }
                                },
                                error: function (request, status, error) {
                                    alert(request.responseText + ' ' + status + ' ' + error);
                                }
                            }).done(function () {
                                $('#loadingTabAbout').css('display', 'none');  // get stopped loading ...
                            });
                        }, 5000);
                        break;
                    case '#profile-contact':
                        $('#loadingTabContact').css('display', 'block'); // get started loading ...
                        setTimeout(function () {
                            // retrives data from databse
                            $.ajax({
                                contentType: 'application/x-www-form-urlencoded',
                                dataType: 'json',
                                type: 'GET',
                                data: { 'username': 'GeneralConstants.Username' },
                                url: 'profile/GetInfoContact',
                                success: function (data) {
                                    if (data.resultGetUsersInformationContactByUsernameServiceDto.isSuccess) {

                                        $("#divInfoContact").prop("hidden", true);
                                        var fetchedData = data.resultGetUsersInformationContactByUsernameServiceDto.data;
                                        var varCountry = fetchedData.countryName;
                                        if (varCountry != null) {
                                            $("#spanInfoContact_country").text(varCountry);
                                            $("#divInfoContact_country").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_country").prop("hidden", true);
                                        var varAdd1 = fetchedData.address1;
                                        if (varAdd1 != null) {
                                            $("#spanInfoContact_Address1").text(varAdd1);
                                            $("#divInfoContact_address_1").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_address_1").prop("hidden", true);
                                        var varAdd2 = fetchedData.address2;
                                        if (varAdd2 != null) {
                                            $("#spanInfoContact_Address2").text(varAdd2);
                                            $("#divInfoContact_address_2").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_address_2").prop("hidden", true);
                                        var varCity = fetchedData.city;
                                        if (varCity != null) {
                                            $("#spanInfoContact_City").text(varCity);
                                            $("#divInfoContact_city").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_city").prop("hidden", true);
                                        var varState = fetchedData.state;
                                        if (varState != null) {
                                            $("#spanInfoContact_State").text(varState);
                                            $("#divInfoContact_state").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_state").prop("hidden", true);
                                        var varPostalCode = fetchedData.postalCode;
                                        if (varPostalCode != null) {
                                            $("#spanInfoContact_postalCode").text(varPostalCode);
                                            $("#divInfoContact_postalCode").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_postalCode").prop("hidden", true);
                                        var varPhone = fetchedData.phone;
                                        if (varPhone != null) {
                                            $("#spanInfoContact_Phone").text(varPhone);
                                            $("#divInfoContact_Phone").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_Phone").prop("hidden", true);
                                        var varEmail = fetchedData.recoveryEmail;
                                        if (varEmail != null) {
                                            $("#spanInfoContact_Email").text(varEmail);
                                            $("#divInfoContact_Email").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_Email").prop("hidden", true);
                                        var varWebsite = fetchedData.website;
                                        if (varWebsite != null) {
                                            $("#spanInfoContact_Website").text(varWebsite);
                                            $("#divInfoContact_Website").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_Website").prop("hidden", true);
                                        var varFB = fetchedData.facebook;
                                        if (varFB != null) {
                                            $("#spanInfoContact_Facebook").text(varFB);
                                            $("#divInfoContact_FB").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_FB").prop("hidden", true);
                                        var varINST = fetchedData.instagram;
                                        if (varINST != null) {
                                            $("#spanInfoContact_Instagram").text(varINST);
                                            $("#divInfoContact_INST").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_INST").prop("hidden", true);
                                        var varTW = fetchedData.twitter;
                                        if (varTW != null) {
                                            $("#spanInfoContact_Twitter").text(varTW);
                                            $("#divInfoContact_TW").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_TW").prop("hidden", true);
                                        var varST32 = fetchedData.stage32;
                                        if (varST32 != null) {
                                            $("#spanInfoContact_Stage32").text(varST32);
                                            $("#divInfoContact_ST32").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_ST32").prop("hidden", true);
                                        var varY = fetchedData.youtube;
                                        if (varY != null) {
                                            $("#spanInfoContact_Youtube").text(varY);
                                            $("#divInfoContact_Y").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_Y").prop("hidden", true);
                                        var varLINK = fetchedData.linkden;
                                        if (varLINK != null) {
                                            $("#spanInfoContact_Linkden").text(varLINK);
                                            $("#divInfoContact_LINK").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_LINK").prop("hidden", true);
                                        var varVimeo = fetchedData.vimeo;
                                        if (varVimeo != null) {
                                            $("#spanInfoContact_Vimeo").text(varVimeo);
                                            $("#divInfoContact_VIMEO").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_VIMEO").prop("hidden", true);
                                        var varIMDB = fetchedData.imdb;
                                        if (varIMDB != null) {
                                            $("#spanInfoContact_Imdb").text(varIMDB);
                                            $("#divInfoContact_IMDB").prop("hidden", false);
                                        }
                                        else $("#divInfoContact_IMDB").prop("hidden", true);
                                    }
                                    else {
                                        $("#divInfoContact").prop("hidden", false);
                                        $("#divInfoContact_country").prop("hidden", true);
                                        $("#divInfoContact_address_1").prop("hidden", true);
                                        $("#divInfoContact_address_2").prop("hidden", true);
                                        $("#divInfoContact_city").prop("hidden", true);
                                        $("#divInfoContact_state").prop("hidden", true);
                                        $("#divInfoContact_postalCode").prop("hidden", true);
                                        $("#divInfoContact_Phone").prop("hidden", true);
                                        $("#divInfoContact_Email").prop("hidden", true);
                                        $("#divInfoContact_Website").prop("hidden", true);
                                        $("#divInfoContact_FB").prop("hidden", true);
                                        $("#divInfoContact_INST").prop("hidden", true);
                                        $("#divInfoContact_TW").prop("hidden", true);
                                        $("#divInfoContact_ST32").prop("hidden", true);
                                        $("#divInfoContact_Y").prop("hidden", true);
                                        $("#divInfoContact_LINK").prop("hidden", true);
                                        $("#divInfoContact_VIMEO").prop("hidden", true);
                                        $("#divInfoContact_IMDB").prop("hidden", true);
                                    }
                                },
                                error: function (request, status, error) {
                                    alert(request.responseText + ' ' + status + ' ' + error);
                                }
                            }).done(function () {
                                $('#loadingTabContact').css('display', 'none');  // get stopped loading ...
                            });
                        }, 2000);
                        break;
                }
            });
        });
        var positionsBox = function (o) {
            return `<span class="label label-info mr5 mb10 ib lh15">` + o + `</span> `
        }
        function SetPositions(positions) {
            $.ajax({
                contentType: 'application/x-www-form-urlencoded',
                dataType: 'json',
                type: 'GET',
                data: { 'positions': positions },
                url: 'profile/GetInfoPositions',
                success: function (data) {
                    if (data.isSuccess) {
                        $("#positions").empty();
                        var count = data.data.split(',');
                        for (var i = 0; i < count.length; i++) {
                            $("#positions").append(positionsBox(count[i].toString()));
                        }
                    }
                    else {
                        alert('err from server');
                    }
                },
                error: function (request, status, error) {
                    alert(request.responseText + ' ' + status + ' ' + error);
                }
            });
        }
        ////////////////////////// Comments Section
        function PostComment(section, sectionId) {

            var _comment, _sectionId;
            switch (section) {
                case '0': // Photo Comment (SectionsConstants.cs)
                    _comment = $("#txtPostModalComment").val();
                    _sectionId = $("#hiddenPhotoModalId").val();
                    if (_comment == null || _comment.trim() == '' || _sectionId == null || _sectionId == 0) return false;
                    $('#divPhotoCommentLoader').css('display', 'block'); // get started loading ...
                    break;
                case '1': // Post Comment (SectionsConstants.cs)
                    _comment = $("#txtPostComment_" + sectionId).val();
                    _sectionId = sectionId;
                    if (_comment == null || _comment.trim() == '' || _sectionId == null || _sectionId == 0) return false;
                    $('#divPostCommentLoader_' + sectionId).css('display', 'block'); // get started loading ...
                    break;
            }            
            setTimeout(function () {

                var postData = {
                    'section': section,
                    'SectionId': _sectionId,
                    'Comment': _comment,
                };

                $.ajax({
                    contentType: 'application/x-www-form-urlencoded',
                    dataType: 'json',
                    type: 'POST',
                    data: postData,
                    url: 'profile/PostComment',
                    success: function (data) {
                        var fetchedData = {
                            'sectionId': data.data.id,
                            'avatar': data.data.avatar,
                            'fullname': data.data.fullname,
                            'insertDate': null,
                            'allowToRemove': true,
                            'comment': _comment,
                            'email': data.data.email,
                            'postId': _sectionId, //this property will be used only for 'PostComment'
                        };
                        switch (section) {
                            case '0': // Photo Comment (SectionsConstants.cs)
                                $("#txtPostModalComment").val('');
                                $("#media-body-comments").append(commentsPhotoBox(fetchedData));
                                $('#spanPhotoCountComments').text(parseInt($('#spanPhotoCountComments').text()) + 1);
                                break;
                            case '1': // Post Comment (SectionsConstants.cs)
                                $("#txtPostComment_" + sectionId).val('');
                                $("#media-body-post-comments").append(commentsPostBox(fetchedData));
                                $('#spanPostCountComment_' + _sectionId).text(parseInt($('#spanPostCountComment_' + _sectionId).text()) + 1);
                                break;
                        }
                    },
                    error: function (req, status, error) {
                        alert(req.responseText + status + error)
                    }
                }).done(function () {
                    switch (section) { // get stopped loading ...
                        case '0': // Photo Comment (SectionsConstants.cs)
                            $('#divPhotoCommentLoader').css('display', 'none');
                            break;
                        case '1': // Post Comment (SectionsConstants.cs)
                            $('#divPostCommentLoader_' + _sectionId).css('display', 'none');
                            break;
                    }
                });
            }, 1000);
        }
        function openComments() {
            $("#PhotoModalComment").prop("hidden", false);
            $("#PhotoModalCaption").prop("hidden", true);
            LoadComments($("#hiddenPhotoModalId").val());
        }
        function closeComments() {
            $("#PhotoModalComment").prop("hidden", true);
            $("#PhotoModalCaption").prop("hidden", false);
        }
        var commentsPhotoBox = function (o) {
            var name = o.nickname;
            var commentDate; if (o.insertDate == null) commentDate = 'NEW'; else commentDate = KingGetTimeAgo(new Date(o.insertDate));
            var avatar; if (o.avatar == null || o.avatar.trim() == '') avatar = "SiteTemplate/innerpages/images/layout_img/img-avatar.jpg"; else avatar = 'SiteTemplate/innerpages/images/user-headshot/' + o.avatar + '-thumb.jpg';
            var allowToRemove = o.allowToRemove;
            return `
                            <div class="media pb10" id="photoCommentBox_` + o.sectionId + `">
                        <a class="pull-left" href="#">
                            <div class="user">
                                    <img class="kingImgFit"
                                        src=`+ avatar + ` alt="...">
                            </div>
                        </a>
                    <div class="media-body mb5">

                        <h5 class="media-heading mbn"> `+ name + `
                            <small> - `+ commentDate + `</small>
                        </h5>

                        <p class="commentsText">`+ o.comment + `</p>

                    </div>
                                    ${allowToRemove ? `<span onclick="removeComment('0','${o.sectionId}','')" class="close-button cursor">&times;</span>` : ''}

                    </div>
                    `
        }
        var commentsPostBox = function (o) {

            var CommentId = o.sectionId;
            var Headshot; if (o.avatar == null || o.avatar.trim() == '') Headshot = "SiteTemplate/innerpages/images/layout_img/img-avatar.jpg"; else Headshot = 'SiteTemplate/innerpages/images/user-headshot/' + o.avatar + '-thumb.jpg';
            var NicknameCommenter = o.fullname;
            var commentDate; if (o.insertDate == null) commentDate = 'NEW'; else commentDate = KingGetTimeAgo(new Date(o.insertDate));
            var Comment = o.comment;
            var AllowToRemove = o.allowToRemove;
            var PostId = o.postId;
            var result;
            result = ` <div class="media pb10" id="postCommentBox_`+ CommentId + `" style="margin:10px;">
                                                                                        <a class="pull-left" href="#">
                                                                                            <div class="user">`;

            if (Headshot == null) {
                result += `<img class="kingImgFit" src="@GeneralConstants.PublicHeadshot" alt="...">`;
            }
            else {
                result += `<img class="kingImgFit" src="${Headshot}" alt="...">`;
            }
            

            result += ` </div>
                    </a>
                    <div class="media-body mb5">

                        <h5 class="media-heading mbn">
                            ${NicknameCommenter}
                                    <small class="spanPostCommentDate">${commentDate}</small>
                        </h5>

                        <p class="commentsText">${Comment}</p>

                    </div>
            `;
            
            if (AllowToRemove) { 
                result += `<span onclick="removeComment('1','${CommentId}','${PostId}')" class="close-button cursor" >&times; </span>`;
            }
            result += `</div>`;
            return result;
          
        }
        function LoadComments(id) {

            $('#divPhotoCommentLoader').css('display', 'block'); // get started loading ...
            $("#imgPhotoCommenterHeadshot").attr("src", '@privateheadshot');
            setTimeout(function () {

                $.ajax({
                    contentType: 'application/x-www-form-urlencoded',
                    dataType: 'json',
                    type: 'GET',
                    data: { 'Id': id },
                    url: 'profile/GetCommentById',
                    success: function (data) {
                        if (data.isSuccess) {
                            var fetchedData = data.data.getCommentsBySectionIdServiceDto;
                            $("#media-body-comments").empty()
                            for (var i = 0; i < fetchedData.length; i++) {
                                $("#media-body-comments").append(commentsPhotoBox(fetchedData[i]));
                            }
                        }
                        else {
                            $("#media-body-comments").prop("hidden", true);
                            $('#btnPostModalComment').prop("disabled", true);
                        }
                    },
                    error: function (request, status, error) {
                        alert(request.responseText + ' ' + status + ' ' + error);
                    }
                }).done(function () {
                    $('#divPhotoCommentLoader').css('display', 'none');  // get stopped loading ...
                    $('#btnPostModalComment').prop("disabled", false);
                    $("#media-body-comments").prop("hidden", false);
                });

            }, 1000);
            ;
        }
        function removeComment(section, comment_id, post_id) {
            switch (section) {
                case '0': // Photo Comment (SectionsConstants.cs)
                    $('#divPhotoCommentLoader').css('display', 'block'); // get started loading ...
                    break;
                case '1': // Post Comment (SectionsConstants.cs)
                    $('#divPostCommentLoader_' + post_id).css('display', 'block'); // get started loading ...
                    break;
            }
            setTimeout(function () {
                $.ajax({
                    contentType: 'application/x-www-form-urlencoded',
                    dataType: 'json',
                    type: 'POST',
                    data: { 'Id': comment_id, 'Section': section },
                    url: 'profile/DeleteComment',
                    success: function (data) {
                        if (data.isSuccess) {
                            switch (section) {
                                case '0': // Photo Comments
                                    $("#photoCommentBox_" + comment_id).prop("hidden", true);
                                    $('#spanPhotoCountComments').text(parseInt($('#spanPhotoCountComments').text()) - 1);
                                    break;
                                case '1': // Post Comments
                                    $("#postCommentBox_" + comment_id).prop("hidden", true);
                                    $('#spanPostCountComment_' + post_id).text(parseInt($('#spanPostCountComment_' + post_id).text()) - 1);
                                    break;
                            }
                        }
                    },
                    error: function (req, status, err) {
                        alert(req.responseText + ' ' + status + ' ' + err);
                    }
                }).done(function () {
                    switch (section) {
                        case '0': // Photo Comment (SectionsConstants.cs)
                            $('#divPhotoCommentLoader').css('display', 'none');  // get stopped loading ...
                            break;
                        case '1': // Post Comment (SectionsConstants.cs)
                            $('#divPostCommentLoader_' + post_id).css('display', 'none'); // get started loading ...
                            break;
                    }
                });
            }, 2000);
        }
        $(document).ready(function () {
            const commentDateElement = document.getElementsByClassName('spanPostCommentDate');
            for (let i = 0; i < commentDateElement.length; i++) {
                commentDateElement[i].textContent = KingGetTimeAgo(new Date(commentDateElement[i].textContent));
            }
        });
        //////////////////////// Like Section
        function ApplyLike(section, postId) {
            var sectionId;
            switch (section) {
                case '0': // Photo Like =>"SectionsConstants.cs"
                    sectionId = $("#hiddenPhotoModalId").val();
                    break;
                case '1': // Post Like =>"SectionsConstants.cs"
                    sectionId = postId;
                    break;
            }
            $.ajax({
                contentType: 'application/x-www-form-urlencoded',
                dataType: 'json',
                type: 'POST',
                data: { 'SectionId': sectionId, 'Section': section, },
                url: 'profile/PostLike',
                success: function (data) {
                    if (data.isSuccess) {
                        if (data.data) { // liked
                            switch (section) {
                                case '0': // Photo Like =>"SectionsConstants.cs"
                                    $("#anchorPhotoLike").removeClass("fa-heart-o");
                                    $("#anchorPhotoLike").addClass("fa-heart");
                                    $('#spanPhotoCountLikes').text(parseInt($('#spanPhotoCountLikes').text()) + 1);
                                    break;
                                case '1': // Post Like =>"SectionsConstants.cs"
                                    $("#anchorPostLike_" + postId).removeClass("fa-heart-o");
                                    $("#anchorPostLike_" + postId).addClass("fa-heart");
                                    $('#spanPostCountLikes_' + postId).text(parseInt($('#spanPostCountLikes_' + postId).text()) + 1);
                                    break;
                            }
                        } else { // unliked
                            switch (section) {
                                case '0': // Photo Like =>"SectionsConstants.cs"
                                    $("#anchorPhotoLike").removeClass("fa-heart");
                                    $("#anchorPhotoLike").addClass("fa-heart-o");
                                    $('#spanPhotoCountLikes').text(parseInt($('#spanPhotoCountLikes').text()) - 1);
                                    break;
                                case '1': // Post Like =>"SectionsConstants.cs"
                                    $("#anchorPostLike_" + postId).removeClass("fa-heart");
                                    $("#anchorPostLike_" + postId).addClass("fa-heart-o");
                                    $('#spanPostCountLikes_' + postId).text(parseInt($('#spanPostCountLikes_' + postId).text()) - 1);
                                    break;
                            }

                        }
                    }
                },
                error: function (req, status, err) {
                    alert(req + status + err);
                }
            }).done(function () {
                //btnPostLike
            });
        }
        //////////////////////// Post Section
        var files; // a global variable to store selected photo for current post
        function PostPost() {
            $('#divPhotoPostLoader').css('display', 'block'); // get started loading ...

            var postData = new FormData();
            for (var i = 0; i < files.length; i++) {
                postData.append("Photos", files[i]);
            }
            postData.append("Post", $("#txtPost").val());
            setTimeout(function () {
                $.ajax({
                    contentType: false,
                    processData: false,
                    type: 'POST',
                    data: postData,
                    url: 'profile/PostPost',
                    success: function (data) {
                        if (data.isSuccess) {
                            alert('1');
                            $("#txtPost").val('');
                        } else {
                            alert('2');
                        }
                    },
                    error: function (req, status, err) {
                        alert(req + status + err);
                    }
                }).done(function () {
                    $('#divPhotoPostLoader').css('display', 'none');  // get stopped loading ...
                });
            }, 2000);
        }
        var postsBox = function (o) {
            return `
                                                                                                                                                                                                                            <li>

                                                                                                                                                                                                                            <div class="timeline-time">
                                                                                                                                                                                                                                <span class="date">today</span>
                                                                                                                                                                                                                                <span class="time">04:20</span>
                                                                                                                                                                                                                            </div>


                                                                                                                                                                                                                            <div class="timeline-icon">
                                                                                                                                                                                                                                <a href="javascript:;">&nbsp;</a>
                                                                                                                                                                                                                            </div>


                                                                                                                                                                                                                            <div class="timeline-body">
                                                                                                                                                                                                                                <div class="timeline-header">
                                                                                                                                                                                                                                    <span class="userimage"><img src="https://bootdey.com/img/Content/avatar/avatar3.png" alt=""></span>
                                                                                                                                                                                                                                    <span class="username"><a href="javascript:;">Sean Ngu</a> <small></small></span>
                                                                                                                                                                                                                                    <span class="pull-right text-muted">18 Views</span>
                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                                <div class="timeline-content">
                                                                                                                                                                                                                                    <p>
                                                                                                                                                                                                                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc faucibus turpis quis tincidunt luctus.
                                                                                                                                                                                                                                        Nam sagittis dui in nunc consequat, in imperdiet nunc sagittis.
                                                                                                                                                                                                                                    </p>
                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                                <div class="timeline-likes">
                                                                                                                                                                                                                                    <div class="stats-right">
                                                                                                                                                                                                                                        <span class="stats-text">259 Shares</span>
                                                                                                                                                                                                                                        <span class="stats-text">21 Comments</span>
                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                    <div class="stats">
                                                                                                                                                                                                                                        <span class="fa-stack fa-fw stats-icon">
                                                                                                                                                                                                                                            <i class="fa fa-circle fa-stack-2x text-danger"></i>
                                                                                                                                                                                                                                            <i class="fa fa-heart fa-stack-1x fa-inverse t-plus-1"></i>
                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                        <span class="fa-stack fa-fw stats-icon">
                                                                                                                                                                                                                                            <i class="fa fa-circle fa-stack-2x text-primary"></i>
                                                                                                                                                                                                                                            <i class="fa fa-thumbs-up fa-stack-1x fa-inverse"></i>
                                                                                                                                                                                                                                        </span>
                                                                                                                                                                                                                                        <span class="stats-total">4.3k</span>
                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                                <div class="timeline-footer">
                                                                                                                                                                                                                                    <a href="javascript:;" class="m-r-15 text-inverse-lighter"><i class="fa fa-thumbs-up fa-fw fa-lg m-r-3"></i> Like</a>
                                                                                                                                                                                                                                    <a href="javascript:;" class="m-r-15 text-inverse-lighter"><i class="fa fa-comments fa-fw fa-lg m-r-3"></i> Comment</a>
                                                                                                                                                                                                                                    <a href="javascript:;" class="m-r-15 text-inverse-lighter"><i class="fa fa-share fa-fw fa-lg m-r-3"></i> Share</a>
                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                                <div class="timeline-comment-box">
                                                                                                                                                                                                                                    <div class="user"><img src="https://bootdey.com/img/Content/avatar/avatar3.png"></div>
                                                                                                                                                                                                                                    <div class="input">
                                                                                                                                                                                                                                        <div class="input-group">
                                                                                                                                                                                                                                            <input type="text" class="form-control rounded-corner" placeholder="Write a comment...">
                                                                                                                                                                                                                                            <button type="button" class="btn cur-p btn-dark" style="border-radius:0px !important;">Dark</button>
                                                                                                                                                                                                                                        </div>
                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                            </div>

                                                                                                                                                                                                                        </li>
                                                                                                                                                                                                                            `;
        };
        // to change user's post inserttime to my special form
        const dateElements = document.querySelectorAll('.date');
        dateElements.forEach(dateElement => {
            const insertDate = dateElement.getAttribute('data-insert-date');
            const timeAgo = KingGetTimeAgo(new Date(insertDate));
            dateElement.textContent = timeAgo;
        });
        const timeElements = document.querySelectorAll('.time');
        timeElements.forEach(dateElement => {
            const insertDate = dateElement.getAttribute('data-insert-date');
            const time = KingSeparateOnlyTimeFromDatetime(insertDate.toString());
            dateElement.textContent = time;

        });
        // Post Photo
        function OpenPostPhotoUploadModal() {
            $("#PostPhotoUploadModal").modal("show");
        }
        // Modal to select photos
        let currentIndex = 0;
        const slideshowContainer = document.getElementById('slideshowContainer');
        const slideshowIndicators = document.getElementById('slideshowIndicators');
        const slideshowImages = [];
        document.getElementById('fileuploadpostphoto').addEventListener('change', function (event) {
            files = event.target.files;
            if (files.length > 4) {
                alert('only four photos');
                $("#fileuploadpostphoto").val('');
                return false;
            }
            // Clear previous slideshow images and indicators
            slideshowContainer.innerHTML = '';
            slideshowIndicators.innerHTML = '';
            currentIndex = 0;
            slideshowImages.length = 0;
            // Iterate over selected files
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                // check the file
                if (!KingCheckSizeExtension(file, ["jpg", "png", "bmp", "jpeg"], "2097152", true)) {
                    alert('only select a file less than 2mb with "jpg", "png", "bmp", "jpeg" froamt');
                    $("#fileuploadpostphoto").val('');
                    return false;
                }
                // Create <img> element for each photo
                const img = document.createElement('img');
                img.classList.add('slideshow-image');
                img.src = URL.createObjectURL(file);

                // Append <img> element to the slideshow container
                slideshowContainer.appendChild(img);
                slideshowImages.push(img);

                // Create indicator element for each photo
                const indicator = document.createElement('li');
                indicator.classList.add('slideshow-indicator');
                indicator.addEventListener('click', function () {
                    showImage(i);
                });

                slideshowIndicators.appendChild(indicator);
            }

            // Display the first image and set the first indicator as active
            showImage(0);
            slideshowIndicators.children[0].classList.add('active');
        });
        function showImage(index) {
            if (index >= 0 && index < slideshowImages.length) {
                for (let i = 0; i < slideshowImages.length; i++) {
                    slideshowImages[i].classList.remove('active');
                    slideshowIndicators.children[i].classList.remove('active');
                }
                slideshowImages[index].classList.add('active');
                slideshowIndicators.children[index].classList.add('active');
                currentIndex = index;
            }
        }
        function AddSelectedPhoto() {
            if (files.length > 0) {
                $("#PostPhotoUploadModal").modal("hide");
                $("#imgsPostPhotosContainerSelected").prop("hidden", false)
                const imageContainer = document.getElementById('imgsPostPhotosSelected');
                imageContainer.innerHTML = '';
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    const img = document.createElement('img');
                    img.src = URL.createObjectURL(file);
                    img.classList.add('thumbnail');
                    const imgWrapper = document.createElement('div');
                    imgWrapper.classList.add('item');
                    imgWrapper.appendChild(img);
                    imageContainer.appendChild(imgWrapper);
                }
            }
        }
        function ApplyArchivePost(id) {
            alert(id);
        }
        function DeletePost(id) {
            alert(id);
        }
    </script>

}